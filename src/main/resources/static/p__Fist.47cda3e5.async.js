"use strict";(self.webpackChunkyupi_antd_frontend_init=self.webpackChunkyupi_antd_frontend_init||[]).push([[13],{23674:function(z,B,n){n.r(B);var I=n(97857),_=n.n(I),R=n(15009),l=n.n(R),A=n(99289),m=n.n(A),v=n(5574),E=n.n(v),M=n(6110),g=n(38345),D=n(82130),C=n(31912),y=n(67294),W=n(55102),O=n(91978),w=n(42075),b=n(72252),N=n(44316),t=n(85893),K=W.Z.Search,U=function(){var T=(0,y.useState)([]),r=E()(T,2),s=r[0],o=r[1],f=(0,y.useState)(0),e=E()(f,2),H=e[0],Q=e[1],J=(0,y.useState)(1),$=E()(J,2),L=$[0],X=$[1],Z=10;(0,y.useEffect)(function(){var u=function(){var i=m()(l()().mark(function c(){var p,d,h;return l()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,(0,C.RF)({current:L,pageSize:Z});case 3:p=a.sent,d=p.data,h=p.code,h===0?(o((d==null?void 0:d.records)||[]),Q((d==null?void 0:d.total)||0)):console.error("Failed to fetch movie data."),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.error("Error fetching movie data:",a.t0);case 12:case"end":return a.stop()}},c,null,[[0,9]])}));return function(){return i.apply(this,arguments)}}();u()},[L]);var S=function(i){window.open("/show/".concat(i),"_blank")},Y=function(i){window.open("/listMovie/".concat(i),"_blank")},q=function(){var u=m()(l()().mark(function i(c,p,d){var h;return l()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return console.log(d==null?void 0:d.source,c),h={name:c},a.next=4,(0,C.vV)(h);case 4:console.log("requestBody:",h),Y(c);case 6:case"end":return a.stop()}},i)}));return function(c,p,d){return u.apply(this,arguments)}}(),ee=[{dataIndex:"index",valueType:"indexBorder",width:48},{dataIndex:"name",valueType:"text",render:function(i,c){return(0,t.jsx)("a",{onClick:function(){return S(c.movieId)},children:i})}},{dataIndex:"ratingNum",valueType:"text",sorter:!0,sortDirections:["descend","descend","descend"],defaultSortOrder:"descend"}];return(0,t.jsxs)(M._z,{children:[(0,t.jsxs)(g.Z,{colSpan:24,ghost:!0,style:{height:0,paddingBottom:"35%"},children:[" ",(0,t.jsx)("div",{style:{position:"relative",width:"100%",height:"100%"},children:(0,t.jsx)("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},children:(0,t.jsxs)(O.Z,{autoplay:!0,autoplaySpeed:3e3,infinite:!0,style:{width:"100%",height:"100%"},children:[(0,t.jsx)("div",{children:(0,t.jsx)("img",{src:"/image/2.jpg",alt:"Image 1",style:{width:"100%",height:"100%",objectFit:"cover"}})}),(0,t.jsx)("div",{children:(0,t.jsx)("img",{src:"/image/3.jpg",alt:"Image 2",style:{width:"100%",height:"100%",objectFit:"cover"}})}),(0,t.jsx)("div",{children:(0,t.jsx)("img",{src:"/image/4.jpg",alt:"Image 3",style:{width:"100%",height:"100%",objectFit:"cover"}})}),(0,t.jsx)("div",{children:(0,t.jsx)("img",{src:"/image/5.jpg",alt:"Image 4",style:{width:"100%",height:"100%",objectFit:"cover"}})})]})})})]}),(0,t.jsx)(g.Z,{children:(0,t.jsx)(w.Z,{direction:"vertical",children:(0,t.jsx)(g.Z,{style:{width:400},children:(0,t.jsx)(w.Z,{direction:"vertical",style:{alignItems:"flex-end"},children:(0,t.jsx)(K,{placeholder:"\u8BF7\u8F93\u5165\u7535\u5F71\u540D\u5B57",enterButton:"\u641C\u7D22",size:"large",onSearch:q,style:{width:"100%"}})})})})}),(0,t.jsxs)(g.Z,{split:"vertical",children:[(0,t.jsx)(g.Z,{title:"\u7535\u5F71\u6392\u884C\u699C",colSpan:"30%",children:(0,t.jsx)(D.Z,{search:!1,options:!1,pagination:!1,request:function(){var u=m()(l()().mark(function i(c,p,d){var h,x,a,G,k,P,V;return l()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return a=(h=Object.keys(p))===null||h===void 0?void 0:h[0],G=(x=p==null?void 0:p[a])!==null&&x!==void 0?x:"descend",j.next=4,(0,C.RF)(_()(_()({},c),{},{sortField:a,sortOrder:G},d));case 4:return k=j.sent,P=k.data,V=k.code,j.abrupt("return",{success:V===0,data:(P==null?void 0:P.records)||[],total:Number(P==null?void 0:P.total)||0});case 8:case"end":return j.stop()}},i)}));return function(i,c,p){return u.apply(this,arguments)}}(),columns:ee})}),(0,t.jsx)(g.Z,{title:"\u6700\u65B0\u7535\u5F71",headerBordered:!0,children:(0,t.jsxs)(g.Z,{title:"",children:[(0,t.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(5, minmax(150px, 1fr))",gridTemplateRows:"2fr",gap:"20px"},children:s.map(function(u){return(0,t.jsxs)("div",{style:{textAlign:"center",position:"relative"},children:[(0,t.jsx)("img",{src:"//www/wwwroot/app6858.acapp.acwing.com.cn/movie/".concat(u.local),alt:"\u7535\u5F71\u7167\u7247",style:{width:"80%",height:"75%"},onClick:function(){return S(u.movieId)}}),(0,t.jsx)("div",{style:{fontWeight:"normal",fontSize:"1.2em",cursor:"pointer",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},className:"hover-style",onClick:function(){return S(u.movieId)},children:u.name}),(0,t.jsx)("div",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",color:"rgb(140,140,140)"},children:u.actors}),(0,t.jsx)("div",{className:"play-icon",children:(0,t.jsx)("img",{src:"/image/play_icon.png",alt:"\u64AD\u653E\u56FE\u6807",style:{width:"50px",height:"50px"},onClick:function(){return S(u.movieId)}})})]},u.movieId)})}),(0,t.jsx)(b.Z,{style:{marginTop:"20px",textAlign:"center"},total:H,pageSize:Z,showSizeChanger:!1,current:L,onChange:function(i){return X(i)}})]})})]})]})};B.default=U},31912:function(z,B,n){n.d(B,{AU:function(){return F},G0:function(){return g},P2:function(){return C},Qn:function(){return K},RF:function(){return W},vV:function(){return w},yK:function(){return E}});var I=n(15009),_=n.n(I),R=n(97857),l=n.n(R),A=n(99289),m=n.n(A),v=n(86745);function E(r,s){return M.apply(this,arguments)}function M(){return M=m()(_()().mark(function r(s,o){return _()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,v.request)("/movie/add",l()({method:"POST",headers:{"Content-Type":"application/json"},data:s},o||{})));case 1:case"end":return e.stop()}},r)})),M.apply(this,arguments)}function g(r,s){return D.apply(this,arguments)}function D(){return D=m()(_()().mark(function r(s,o){return _()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,v.request)("/movie/delete",l()({method:"POST",headers:{"Content-Type":"application/json"},data:s},o||{})));case 1:case"end":return e.stop()}},r)})),D.apply(this,arguments)}function C(r,s){return y.apply(this,arguments)}function y(){return y=m()(_()().mark(function r(s,o){return _()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,v.request)("/movie/get/vo",l()({method:"GET",params:l()({},s)},o||{})));case 1:case"end":return e.stop()}},r)})),y.apply(this,arguments)}function W(r,s){return O.apply(this,arguments)}function O(){return O=m()(_()().mark(function r(s,o){return _()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,v.request)("/movie/list/page",l()({method:"POST",headers:{"Content-Type":"application/json"},data:s},o||{})));case 1:case"end":return e.stop()}},r)})),O.apply(this,arguments)}function w(r,s){return b.apply(this,arguments)}function b(){return b=m()(_()().mark(function r(s,o){return _()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,v.request)("/movie/list/page/vo",l()({method:"POST",headers:{"Content-Type":"application/json"},data:s},o||{})));case 1:case"end":return e.stop()}},r)})),b.apply(this,arguments)}function N(r,s){return t.apply(this,arguments)}function t(){return t=_asyncToGenerator(_regeneratorRuntime().mark(function r(s,o){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("/movie/my/list/page/vo",_objectSpread({method:"POST",headers:{"Content-Type":"application/json"},data:s},o||{})));case 1:case"end":return e.stop()}},r)})),t.apply(this,arguments)}function K(r,s){return U.apply(this,arguments)}function U(){return U=m()(_()().mark(function r(s,o){return _()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,v.request)("/movie/spider",l()({method:"POST",headers:{"Content-Type":"application/json"},data:s},o||{})));case 1:case"end":return e.stop()}},r)})),U.apply(this,arguments)}function F(r,s){return T.apply(this,arguments)}function T(){return T=m()(_()().mark(function r(s,o){return _()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,v.request)("/movie/update",l()({method:"POST",headers:{"Content-Type":"application/json"},data:s},o||{})));case 1:case"end":return e.stop()}},r)})),T.apply(this,arguments)}},44316:function(){}}]);
