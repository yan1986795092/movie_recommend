"use strict";(self.webpackChunkyupi_antd_frontend_init=self.webpackChunkyupi_antd_frontend_init||[]).push([[280],{51042:function(G,f,t){var y=t(1413),a=t(67294),T=t(42110),l=t(91146),M=function(b,v){return a.createElement(l.Z,(0,y.Z)((0,y.Z)({},b),{},{ref:v,icon:T.Z}))},o=a.forwardRef(M);f.Z=o},90004:function(G,f,t){t.r(f),t.d(f,{default:function(){return U}});var y=t(15009),a=t.n(y),T=t(97857),l=t.n(T),M=t(99289),o=t.n(M),p=t(5574),b=t.n(p),v=t(31912),A=t(51042),C=t(6110),x=t(82130),D=t(86745),F=t(14726),g=t(67294),S=t(2453),j=t(28248),m=t(85893),O=function(){var r=o()(a()().mark(function n(u){var s;return a()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return s=S.ZP.loading("\u6B63\u5728\u722C\u53D6"),i.prev=1,i.next=4,(0,v.Qn)(u);case 4:return s(),S.ZP.success("\u521B\u5EFA\u6210\u529F"),i.abrupt("return",!0);case 9:return i.prev=9,i.t0=i.catch(1),s(),S.ZP.error("\u521B\u5EFA\u5931\u8D25\uFF0C"+i.t0.message),i.abrupt("return",!1);case 14:case"end":return i.stop()}},n,null,[[1,9]])}));return function(u){return r.apply(this,arguments)}}(),$=function(n){var u=n.visible,s=n.columns,e=n.onSubmit,i=n.onCancel;return(0,m.jsx)(j.Z,{destroyOnClose:!0,title:"\u521B\u5EFA",open:u,footer:null,onCancel:function(){i==null||i()},children:(0,m.jsx)(x.Z,{type:"form",columns:s,onSubmit:function(){var R=o()(a()().mark(function B(_){var d;return a()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,O(_);case 2:d=c.sent,d&&(e==null||e(_));case 4:case"end":return c.stop()}},B)}));return function(B){return R.apply(this,arguments)}}()})})},E=$,K=function(){var n=(0,g.useState)(!1),u=b()(n,2),s=u[0],e=u[1],i=(0,g.useRef)(),R=[{title:"\u722C\u53D6\u6570\u636E\u7684\u4E2A\u6570",dataIndex:"num",valueType:"text",hideInSearch:!0}],B=[{title:"",dataIndex:"local",render:function(d,I){return(0,m.jsx)("a",{href:I.movieUrl,target:"_blank",rel:"noopener noreferrer",children:(0,m.jsx)("img",{src:"/movie/".concat(I.local),alt:"\u56FE\u7247",style:{width:"50%",height:"auto"}})})}},{title:"\u7535\u5F71Id",dataIndex:"movieId",valueType:"text",hideInForm:!0,hideInSearch:!0,hideInTable:!0},{title:"\u521B\u5EFA\u7528\u6237",dataIndex:"userID",valueType:"text",hideInForm:!0,hideInSearch:!0},{title:"\u7535\u5F71\u540D",dataIndex:"name",valueType:"text"},{title:"\u5BFC\u6F14",dataIndex:"director",valueType:"text",hideInSearch:!0},{title:"\u6F14\u5458",dataIndex:"actors",valueType:"text",hideInTable:!0,hideInSearch:!0},{title:"\u7C7B\u578B",dataIndex:"type",valueType:"text"},{title:"\u56FD\u5BB6",dataIndex:"country",valueType:"text",hideInTable:!0,hideInSearch:!0},{title:"\u4E0A\u6620\u65F6\u95F4",dataIndex:"releaseDate",valueType:"text",hideInForm:!0,hideInSearch:!0,hideInTable:!0},{title:"\u7535\u5F71\u65F6\u957F",dataIndex:"runtime",valueType:"text",hideInSearch:!0},{title:"\u70B9\u8D5E\u6570",dataIndex:"thumbNum",valueType:"text",hideInForm:!0,hideInSearch:!0,hideInTable:!0},{title:"\u6536\u85CF\u6570",dataIndex:"favourNum",valueType:"text",hideInForm:!0,hideInSearch:!0,hideInTable:!0},{title:"\u7B80\u4ECB",dataIndex:"tags",valueType:"text",hideInForm:!0,hideInTable:!0,hideInSearch:!0},{title:"\u7167\u7247\u5730\u5740",dataIndex:"local",valueType:"text",hideInTable:!0,hideInSearch:!0},{title:"\u521B\u5EFA\u65F6\u95F4",sorter:!0,dataIndex:"createTime",valueType:"dateTime",hideInSearch:!0,hideInForm:!0},{title:"\u66F4\u65B0\u65F6\u95F4",sorter:!0,dataIndex:"updateTime",valueType:"dateTime",hideInSearch:!0,hideInForm:!0}];return(0,m.jsxs)(C._z,{children:[(0,m.jsx)(x.Z,{search:!1,options:!1,rowKey:"key",toolBarRender:function(){return[(0,m.jsxs)(F.ZP,{type:"primary",onClick:function(){e(!0)},children:[(0,m.jsx)(A.Z,{})," \u65B0\u5EFA"]},"primary")]},request:function(){var _=o()(a()().mark(function d(I,c,Q){var Z,w,L,V,W,h,N;return a()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return L=(Z=Object.keys(c))===null||Z===void 0?void 0:Z[0],V=(w=c==null?void 0:c[L])!==null&&w!==void 0?w:void 0,P.next=4,(0,v.RF)(l()(l()({},I),{},{sortField:L,sortOrder:V},Q));case 4:return W=P.sent,h=W.data,N=W.code,P.abrupt("return",{success:N===0,data:(h==null?void 0:h.records)||[],total:Number(h==null?void 0:h.total)||0});case 8:case"end":return P.stop()}},d)}));return function(d,I,c){return _.apply(this,arguments)}}(),columns:B}),(0,m.jsx)(E,{visible:s,columns:R,onSubmit:function(){var d;e(!1),(d=i.current)===null||d===void 0||d.reload()},onCancel:function(){e(!1)}})]})},U=K},31912:function(G,f,t){t.d(f,{AU:function(){return K},G0:function(){return A},P2:function(){return x},Qn:function(){return $},RF:function(){return F},vV:function(){return S},yK:function(){return b}});var y=t(15009),a=t.n(y),T=t(97857),l=t.n(T),M=t(99289),o=t.n(M),p=t(86745);function b(r,n){return v.apply(this,arguments)}function v(){return v=o()(a()().mark(function r(n,u){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.request)("/movie/add",l()({method:"POST",headers:{"Content-Type":"application/json"},data:n},u||{})));case 1:case"end":return e.stop()}},r)})),v.apply(this,arguments)}function A(r,n){return C.apply(this,arguments)}function C(){return C=o()(a()().mark(function r(n,u){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.request)("/movie/delete",l()({method:"POST",headers:{"Content-Type":"application/json"},data:n},u||{})));case 1:case"end":return e.stop()}},r)})),C.apply(this,arguments)}function x(r,n){return D.apply(this,arguments)}function D(){return D=o()(a()().mark(function r(n,u){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.request)("/movie/get/vo",l()({method:"GET",params:l()({},n)},u||{})));case 1:case"end":return e.stop()}},r)})),D.apply(this,arguments)}function F(r,n){return g.apply(this,arguments)}function g(){return g=o()(a()().mark(function r(n,u){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.request)("/movie/list/page",l()({method:"POST",headers:{"Content-Type":"application/json"},data:n},u||{})));case 1:case"end":return e.stop()}},r)})),g.apply(this,arguments)}function S(r,n){return j.apply(this,arguments)}function j(){return j=o()(a()().mark(function r(n,u){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.request)("/movie/list/page/vo",l()({method:"POST",headers:{"Content-Type":"application/json"},data:n},u||{})));case 1:case"end":return e.stop()}},r)})),j.apply(this,arguments)}function m(r,n){return O.apply(this,arguments)}function O(){return O=_asyncToGenerator(_regeneratorRuntime().mark(function r(n,u){return _regeneratorRuntime().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",request("/movie/my/list/page/vo",_objectSpread({method:"POST",headers:{"Content-Type":"application/json"},data:n},u||{})));case 1:case"end":return e.stop()}},r)})),O.apply(this,arguments)}function $(r,n){return E.apply(this,arguments)}function E(){return E=o()(a()().mark(function r(n,u){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.request)("/movie/spider",l()({method:"POST",headers:{"Content-Type":"application/json"},data:n},u||{})));case 1:case"end":return e.stop()}},r)})),E.apply(this,arguments)}function K(r,n){return U.apply(this,arguments)}function U(){return U=o()(a()().mark(function r(n,u){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,p.request)("/movie/update",l()({method:"POST",headers:{"Content-Type":"application/json"},data:n},u||{})));case 1:case"end":return e.stop()}},r)})),U.apply(this,arguments)}}}]);
